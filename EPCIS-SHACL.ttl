@prefix dash: <http://datashapes.org/dash#> .
@prefix rdf: <http://www.w3.org/1999/02/22-rdf-syntax-ns#> .
@prefix rdfs: <http://www.w3.org/2000/01/rdf-schema#> .
@prefix owl: <http://www.w3.org/2002/07/owl#> .
@prefix schema: <http://schema.org/> .
@prefix sh: <http://www.w3.org/ns/shacl#> .
@prefix xsd: <http://www.w3.org/2001/XMLSchema#> .
@prefix epcis: <https://id.gs1.org/epcis/> .



epcis:ObjectEventShape
    a sh:NodeShape ;
    sh:targetClass epcis:ObjectEvent ;

    sh:property epcis:Action_IsMandatory ;
    sh:property epcis:EventTime_IsMandatory ;
    sh:property epcis:EventTimeZoneOffset_IsMandatory ;

    sh:property epcis:EventID_TypeConstraint ;
    sh:property epcis:Action_TypeAndFormat ;
    sh:property epcis:EventTime_TypeConstraint ;
    sh:property epcis:EventTimeZoneOffset_TypeAndFormat ;
    sh:property epcis:RecordTime_TypeConstraint ;

	sh:property epcis:EPCList_TypeConstraint ;

    sh:property epcis:BizStep_TypeConstraint ;
    sh:property epcis:Disposition_TypeConstraint ;
    sh:property epcis:ReadPoint_TypeConstraint ;
    sh:property epcis:BizLocation_TypeConstraint ;

	sh:property epcis:BizTransactionList_TypeConstraint ;
	sh:property epcis:ErrorDeclaration_TypeConstraint ;
	sh:property epcis:QuantityList_TypeConstraint ;
	sh:property epcis:SourceList_TypeConstraint ;
	sh:property epcis:DestinationList_TypeConstraint ;
	sh:property epcis:ILMD_TypeConstraint .
    
    
    
epcis:AggregationEventShape
    a sh:NodeShape ;
    sh:targetClass epcis:AggregationEvent ;

    sh:property epcis:Action_IsMandatory ;
    sh:property epcis:EventTime_IsMandatory ;
    sh:property epcis:EventTimeZoneOffset_IsMandatory ;

    sh:property epcis:EventID_TypeConstraint ;
    sh:property epcis:Action_TypeAndFormat ;
    sh:property epcis:EventTime_TypeConstraint ;
    sh:property epcis:EventTimeZoneOffset_TypeAndFormat ;
    sh:property epcis:RecordTime_TypeConstraint ;
    sh:property epcis:ParentID_TypeConstraint ;
    sh:property epcis:ChildEPCs_TypeConstraint ;

    sh:property epcis:BizStep_TypeConstraint ;
    sh:property epcis:Disposition_TypeConstraint ;
    sh:property epcis:ReadPoint_TypeConstraint ;
    sh:property epcis:BizLocation_TypeConstraint ;
    
	sh:property epcis:BizTransactionList_TypeConstraint ;
	sh:property epcis:ErrorDeclaration_TypeConstraint ;
	sh:property epcis:ChildQuantityList_TypeConstraint ;
	sh:property epcis:SourceList_TypeConstraint ;
	sh:property epcis:DestinationList_TypeConstraint .
    
 
epcis:TransactionEventShape
    a sh:NodeShape ;
    sh:targetClass epcis:TransactionEvent ;

    sh:property epcis:Action_IsMandatory ;
    sh:property epcis:EventTime_IsMandatory ;
    sh:property epcis:EventTimeZoneOffset_IsMandatory ;
    sh:property epcis:BizTransactionList_IsMandatory ;


    sh:property epcis:EventID_TypeConstraint ;
    sh:property epcis:Action_TypeAndFormat ;
    sh:property epcis:EventTime_TypeConstraint ;
    sh:property epcis:EventTimeZoneOffset_TypeAndFormat ;
    sh:property epcis:RecordTime_TypeConstraint ;
    sh:property epcis:ParentID_TypeConstraint ;
    sh:property epcis:ChildEPCs_TypeConstraint ;

    sh:property epcis:BizStep_TypeConstraint ;
    sh:property epcis:Disposition_TypeConstraint ;
    sh:property epcis:ReadPoint_TypeConstraint ;
    sh:property epcis:BizLocation_TypeConstraint ;

	sh:property epcis:BizTransactionList_TypeConstraint ;
	sh:property epcis:ErrorDeclaration_TypeConstraint ;
	sh:property epcis:QuantityList_TypeConstraint ;
	sh:property epcis:SourceList_TypeConstraint ;
	sh:property epcis:DestinationList_TypeConstraint .


epcis:TransformationEventShape
    a sh:NodeShape ;
    sh:targetClass epcis:TransformationEvent ;

    sh:property epcis:EventTime_IsMandatory ;
    sh:property epcis:EventTimeZoneOffset_IsMandatory ;

    sh:property epcis:EventID_TypeConstraint ;
    sh:property epcis:EventTime_TypeConstraint ;
    sh:property epcis:EventTimeZoneOffset_TypeAndFormat ;
    sh:property epcis:RecordTime_TypeConstraint ;
    sh:property epcis:InputEPCs_TypeConstraint ;
    sh:property epcis:OutputEPCs_TypeConstraint ;

    sh:property epcis:BizStep_TypeConstraint ;
    sh:property epcis:Disposition_TypeConstraint ;
    sh:property epcis:ReadPoint_TypeConstraint ;
    sh:property epcis:BizLocation_TypeConstraint ;
	
	sh:property epcis:BizTransactionList_TypeConstraint ;
	sh:property epcis:ErrorDeclaration_TypeConstraint ;
	sh:property epcis:SourceList_TypeConstraint ;
	sh:property epcis:DestinationList_TypeConstraint ;
	sh:property epcis:InputQuantityList_TypeConstraint ;
	sh:property epcis:OutputQuantityList_TypeConstraint ;
	sh:property epcis:TransformationID_TypeConstraint .
		
		

epcis:BizTransactionListShape
	a sh:NodeShape;
	sh:targetClass epcis:BusinessTransaction ;
	sh:property epcis:BizTransaction_IsMandatory ;
	sh:property epcis:BizTransaction_TypeConstraint ;
	sh:property epcis:BizTransactionType_TypeConstraint .


epcis:ErrorDeclarationShape
	a sh:NodeShape;
	sh:targetClass epcis:ErrorDeclaration ;
	sh:property epcis:DeclarationTime_IsMandatory ;
	sh:property epcis:Reason_IsMandatory ;
	sh:property epcis:CorrectiveEventIDs_IsMandatory ;
	sh:property epcis:DeclarationTime_TypeConstraint ;
	sh:property epcis:Reason_TypeConstraint ;
	sh:property epcis:CorrectiveEventIDs_TypeConstraint .



epcis:SourceListShape
	a sh:NodeShape;
	sh:targetClass epcis:SourceList ;
	sh:property epcis:Source_IsMandatory ;
	sh:property epcis:SourceDestType_IsMandatory ;
	sh:property epcis:Source_TypeConstraint ;
	sh:property epcis:SourceDestType_TypeConstraint .


epcis:DestinationListShape
	a sh:NodeShape;
	sh:targetClass epcis:DestinationList ;
	sh:property epcis:Destination_IsMandatory ;
	sh:property epcis:SourceDestType_IsMandatory ;
	sh:property epcis:Destination_TypeConstraint ;
	sh:property epcis:SourceDestType_TypeConstraint .
	
	
epcis:QuantityElementShape
	a sh:NodeShape;
	sh:targetClass epcis:QuantityElement ;
	sh:property epcis:EPCClass_IsMandatory ;
	sh:property epcis:Quantity_IsMandatory ;
	sh:property epcis:EPCClass_TypeConstraint ;
	sh:property epcis:Quantity_TypeConstraint ;
	sh:property epcis:UOM_TypeConstraint .
	
	


epcis:Action_IsMandatory owl:sameAs [
	sh:path epcis:action ;
	sh:name "action" ;
	sh:minCount 1 ;
	sh:maxCount 1 ;
	sh:message "action is a mandatory field which must have a single value." 
].

epcis:Action_TypeAndFormat owl:sameAs [
	sh:path epcis:action ;
	sh:datatype xsd:string ;
	sh:name "action" ;
	sh:in epcis:ActionEnum ; 
	sh:message "action must have an upper case string value - either ADD, OBSERVE or DELETE" 
].
    
epcis:ActionEnum owl:sameAs ("ADD" "OBSERVE" "DELETE").
    

epcis:BizLocation_TypeConstraint owl:sameAs [
	sh:path epcis:bizLocation ;
	sh:nodeKind sh:IRI ;
	sh:name "bizLocation type constraint" ;
	sh:message "bizLocation must be an xsd:anyURI.  Please refer to the GS1 Core Business Vocabulary for standard vocabulary values for bizLocation" 
].


epcis:BizStep_TypeConstraint owl:sameAs [
	sh:path epcis:bizStep ;
	sh:nodeKind sh:IRI ;
	sh:name "bizStep type constraint" ;
	sh:message "bizStep must be an xsd:anyURI.  Please refer to the GS1 Core Business Vocabulary for standard vocabulary values for bizStep" 
].

epcis:BizTransactionList_IsMandatory owl:sameAs [
	sh:path epcis:bizTransactionList ;
	sh:name "bizTransactionList" ;
	sh:minCount 1 ;
	sh:message "bizTransactionList is a mandatory field within a transaction event." 
].

epcis:BizTransactionList_TypeConstraint  owl:sameAs [
	sh:path epcis:bizTransactionList ;
	sh:node epcis:BizTransactionListShape ;
	sh:name "bizTransactionList type constraint" ;
	sh:message "bizTransactionList expects a populated epcis:BizTransactionList" 
].

epcis:BizTransactionType_TypeConstraint owl:sameAs [
	sh:path epcis:type ;
	sh:nodeKind sh:IRI ;
	sh:name "'type' type constraint" ;
	sh:message "type (within epcis:BusinessTransaction) must be an xsd:anyURI." 
].

epcis:BizTransaction_TypeConstraint owl:sameAs [
	sh:path epcis:bizTransaction ;
	sh:nodeKind sh:IRI ;
	sh:name "bizTransaction type constraint" ;
	sh:message "bizTransaction (within epcis:BusinessTransaction) must be an xsd:anyURI." 
].

epcis:ChildEPCs_TypeConstraint owl:sameAs [
	sh:path epcis:childEPCs ;
	sh:nodeKind sh:IRI ;
	sh:name "childEPCs type constraint" ;
	sh:message "childEPCs must be an xsd:anyURI." 
].


epcis:ChildQuantityList_TypeConstraint  owl:sameAs [
	sh:path epcis:childQuantityList ;
	sh:node epcis:QuantityElementShape ;
	sh:name "childQuantityList type constraint" ;
	sh:message "childQuantityList expects a list of epcis:QuantityElement" 
].

epcis:CorrectiveEventIDs_IsMandatory owl:sameAs [
	sh:path epcis:correctiveEventIDs ;
	sh:name "correctiveEventIDs is mandatory within an epcis:ErrorDeclaration" ;
	sh:minCount 1 ;
	sh:maxCount 1 ;
	sh:message "correctiveEventIDs is a mandatory field which must have a single value." 
].

epcis:CorrectiveEventIDs_IsMandatory owl:sameAs [
	sh:path epcis:correctiveEventIDs ;
	sh:name "correctiveEventIDs is mandatory within an epcis:ErrorDeclaration" ;
	sh:minCount 1 ;
	sh:maxCount 1 ;
	sh:message "correctiveEventIDs is a mandatory field which must have a single value." 
].


epcis:DeclarationTime_IsMandatory owl:sameAs [
	sh:path epcis:declarationTime ;
	sh:name "declarationTime is mandatory within an epcis:ErrorDeclaration" ;
	sh:minCount 1 ;
	sh:maxCount 1 ;
	sh:message "declarationTime is a mandatory field which must have a single value." 
].

epcis:DeclarationTime_TypeConstraint owl:sameAs [
	sh:path epcis:declarationTime ;
	sh:datatype xsd:dateTime ;
	sh:name "declarationTime type constraint" ;
	sh:message "declarationTime must be an xsd:dateTime" 
].


epcis:DestinationList_TypeConstraint  owl:sameAs [
	sh:path epcis:destinationList ;
	sh:node epcis:DestinationListShape ;
	sh:name "destinationList type constraint" ;
	sh:message "destinationList expects a populated epcis:DestinationList" 
].

epcis:Destination_IsMandatory owl:sameAs [
	sh:path epcis:destination ;
	sh:name "destination is mandatory within an epcis:DestinationList" ;
	sh:minCount 1 ;
	sh:maxCount 1 ;
	sh:message "destination is a mandatory field which must have a single value." 
].


epcis:Destination_IsMandatory owl:sameAs [
	sh:path epcis:destination ;
	sh:name "destination is mandatory" ;
	sh:minCount 1;
	sh:maxCount 1;
	sh:message "destination is a mandatory field within an epcis:Destination, in which it must have a single value." 
].

epcis:Destination_TypeConstraint owl:sameAs [
	sh:path epcis:destination ;
	sh:nodeKind sh:IRI ;
	sh:name "destination type constraint" ;
	sh:message "destination must be an xsd:anyURI" 
].


epcis:Disposition_TypeConstraint owl:sameAs [
	sh:path epcis:disposition ;
	sh:nodeKind sh:IRI ;
	sh:name "dispsition type constraint" ;
	sh:message "disposition must be an xsd:anyURI.  Please refer to the GS1 Core Business Vocabulary for standard vocabulary values for disposition" 
].

epcis:EPCClass_IsMandatory owl:sameAs [
	sh:path epcis:epcClass ;
	sh:name "epcClass is mandatory" ;
	sh:minCount 1;
	sh:maxCount 1;
	sh:message "epcClass is a mandatory field within an epcis:QuantityElement." 
].


epcis:EPCClass_TypeConstraint owl:sameAs [
	sh:path epcis:epcClass ;
	sh:nodeKind sh:IRI ;
	sh:name "epcClass type constraint" ;
	sh:message "epcClass must be an xsd:anyURI." 
].


epcis:EPCList_TypeConstraint  owl:sameAs [
	sh:path epcis:epcList ;
	sh:nodeKind sh:IRI ;
	sh:name "epcList type constraint" ;
	sh:message "epcList must be a list of xsd:anyURI. " 
].


epcis:ErrorDeclaration_TypeConstraint  owl:sameAs [
	sh:path epcis:errorDeclaration ;
	sh:node epcis:ErrorDeclarationShape ;
	sh:name "errorDeclaration type constraint" ;
	sh:message "errorDeclaration expects a populated epcis:ErrorDeclaration" 
].

epcis:ErrorReasonID_TypeConstraint owl:sameAs [
	sh:path epcis:reason ;
	sh:nodeKind sh:IRI ;
	sh:name "error reason type constraint" ;
	sh:message "reason must be an xsd:anyURI." 
].


epcis:EventID_TypeConstraint owl:sameAs [
	sh:path epcis:epcList ;
	sh:nodeKind sh:IRI ;
	sh:name "eventID type constraint" ;
	sh:message "eventID must be an xsd:anyURI." 
 ] .

epcis:EventTime_IsMandatory owl:sameAs [
	sh:path epcis:eventTime ;
	sh:name "eventTime is mandatory" ;
	sh:minCount 1;
	sh:maxCount 1;
	sh:message "eventTime is a mandatory field which must have a single value." 
].

epcis:EventTime_TypeConstraint owl:sameAs [
	sh:path epcis:eventTime ;
	sh:datatype xsd:dateTime ;
	sh:name "eventTime type constraint" ;
	sh:message "eventTime must be an xsd:dateTime" 
].


epcis:EventTimeZoneOffset_IsMandatory owl:sameAs [
	sh:path epcis:eventTimeZoneOffset ;
	sh:name "eventTimeZoneOffset is mandatory" ;
	sh:minCount 1 ;
	sh:maxCount 1 ;
	sh:message "eventTimeZoneOffset is a mandatory field which must have a single value." 
].

epcis:EventTimeZoneOffset_TypeAndFormat owl:sameAs [
	sh:path epcis:eventTimeZoneOffset ;
	sh:datatype xsd:string ;
	sh:name "eventTimeZoneOffset constraint on type and format" ;
	sh:pattern "^(\\+|\\-)((0[0-9]|1[0-3]):([0-5][0-9])|14:00)$";
	sh:message "eventTimeZoneOffset must be an xsd:string in the format +hh:mm or -hh:mm where mm is in the range 00-59 and hh is in the range 00-14" 
].

epcis:ILMD_TypeConstraint  owl:sameAs [
	sh:path epcis:ilmd ;
	sh:nodeKind epcis:ILMD ;
	sh:name "ilmd type constraint" ;
	sh:message "ilmd expects an epcis:ILMD class"
].

epcis:InputQuantityList_TypeConstraint  owl:sameAs [
	sh:path epcis:inputQuantityList ;
	sh:node epcis:QuantityElementShape ;
	sh:name "inputQuantityList type constraint" ;
	sh:message "inputQuantityList expects a list of epcis:QuantityElement" 
].


epcis:OutputQuantityList_TypeConstraint  owl:sameAs [
	sh:path epcis:outputQuantityList ;
	sh:node epcis:QuantityElementShape ;
	sh:name "outputQuantityList type constraint" ;
	sh:message "outputQuantityList expects a list of epcis:QuantityElement" 
].

epcis:ParentID_TypeConstraint owl:sameAs [
	sh:path epcis:parentID ;
	sh:nodeKind sh:IRI ;
	sh:name "parentID type constraint" ;
	sh:message "parentID must be an xsd:anyURI." 
].


epcis:QuantityList_TypeConstraint  owl:sameAs [
	sh:path epcis:quantityList ;
	sh:node epcis:QuantityElementShape ;
	sh:name "quantityList type constraint" ;
	sh:message "quantityList expects a list of epcis:QuantityElement" 
].

epcis:Quantity_IsMandatory owl:sameAs [
	sh:path epcis:quantity ;
	sh:name "quantity is mandatory" ;
	sh:minCount 1;
	sh:maxCount 1;
	sh:message "quantity is a mandatory field within an epcis:QuantityElement." 
].

epcis:Quantity_TypeConstraint owl:sameAs [
	sh:path epcis:destination ;
	sh:datatype xsd:decimal ;
	sh:name "quantity type constraint" ;
	sh:message "quantity must be an xsd:decimal" 
].

epcis:Reason_IsMandatory owl:sameAs [
	sh:path epcis:reason ;
	sh:name "reason is mandatory within an epcis:ErrorDeclaration" ;
	sh:minCount 1 ;
	sh:maxCount 1 ;
	sh:message "reason is a mandatory field which must have a single value." 
].


epcis:ReadPoint_TypeConstraint owl:sameAs [
	sh:path epcis:readPoint ;
	sh:nodeKind sh:IRI ;
	sh:name "readPoint type constraint" ;
	sh:message "readPoint must be an xsd:anyURI.  Please refer to the GS1 Core Business Vocabulary for standard vocabulary values for readPoint" 
].

epcis:RecordTime_TypeConstraint owl:sameAs [
	sh:path epcis:recordTime ;
	sh:datatype xsd:dateTime ;
	sh:name "recordTime type constraint" ;
	sh:message "recordTime must be an xsd:dateTime" 
].


epcis:SourceDestType_IsMandatory owl:sameAs [
	sh:path epcis:type ;
	sh:name "type is mandatory" ;
	sh:minCount 1;
	sh:maxCount 1;
	sh:message "type (of source/destination) is a mandatory field within an epcis:Source or epcis:Destination." 
].

epcis:SourceDestType_IsMandatory owl:sameAs [
	sh:path epcis:type ;
	sh:name "type is mandatory within an epcis:SourceList or  epcis:DestinationList" ;
	sh:minCount 1 ;
	sh:maxCount 1 ;
	sh:message "type is a mandatory field which must have a single value." 
].

epcis:SourceDest_TypeConstraint owl:sameAs [
	sh:path epcis:type ;
	sh:nodeKind sh:IRI ;
	sh:name "'type' property type constraint" ;
	sh:message "type must be an xsd:anyURI" 
].

	
epcis:SourceList_TypeConstraint  owl:sameAs [
	sh:path epcis:sourceList ;
	sh:node epcis:SourceListShape ;
	sh:name "sourceList type constraint" ;
	sh:message "sourceList expects a populated epcis:SourceList" 
].

epcis:Source_IsMandatory owl:sameAs [
	sh:path epcis:source ;
	sh:name "source is mandatory within an epcis:SourceList" ;
	sh:minCount 1 ;
	sh:maxCount 1 ;
	sh:message "source is a mandatory field within epcis:SourceList, in which it must have a single value." 
].

epcis:Source_TypeConstraint owl:sameAs [
	sh:path epcis:source ;
	sh:nodeKind sh:IRI ;
	sh:name "source type constraint" ;
	sh:message "source must be an xsd:anyURI" 
].


epcis:TransformationID_TypeConstraint  owl:sameAs [
	sh:path epcis:transformationID ;
	sh:nodeKind sh:IRI ;
	sh:name "transformationID type constraint" ;
	sh:message "transformationID must be an xsd:anyURI.  Please refer to the GS1 Core Business Vocabulary for standard vocabulary values for transformationID" 
].

epcis:UOM_TypeConstraint owl:sameAs [
	sh:path epcis:uom ;
	sh:datatype xsd:string ;
	sh:name "uom type constraint" ;
	sh:message "uom must be an xsd:string" 
].

epcis:UOM_TypeAndFormat owl:sameAs [
	sh:path epcis:uom ;
	sh:datatype xsd:string ;
	sh:name "uom (unit of measure)" ;
	sh:pattern "^[A-Z0-9]{2,3}$" ; 
	sh:message "uom must be a UN ECE Rec 20 code value ( 2-3 characters uppercase alphanumeric )" 
].



















